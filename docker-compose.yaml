version: "3.8"
services:
  secretdev:
    container_name: srps_dev
    ports:
      - '26657:26657'
      - '26656:26656'
      - '1317:1317'
    volumes:
      - './contract:/root/code'
    image: 'enigmampc/secret-network-sw-dev:v1.0.2'
    networks:
      - secretnetwork
  lcdserver:
    ports:
      - '1337:1337'
    image: 'enigmampc/secret-network-sw-dev:v1.0.2'
    entrypoint: 'secretcli rest-server --trust-node=true --node tcp://secretdev:26657 --laddr tcp://0.0.0.0:1337'
    networks:
      - secretnetwork
  corsproxy:
    image: caddy
    ports:
      - '1338:1338'
    volumes:
      - './Caddyfile:/etc/caddy/Caddyfile'
    networks:
      - secretnetwork

networks:
  secretnetwork:
